name: CI Gateway Service
on:
  push:
    branches: [ "main" ]
    paths:
      - 'services/gateway-service/**' # Trigger on service changes
      - 'common-events/**'         # Trigger on shared events changes
      - 'common-security/**'       # Trigger on shared security changes

jobs:
  call-template:
    uses: ./.github/workflows/templates/service-ci.yaml
    with:
      service_name: 'gateway-service'
      service_path: 'services/gateway-service'
    secrets: inherit # Pass repo secrets automatically