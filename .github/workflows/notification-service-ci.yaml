name: CI Notification Service
on:
  push:
    branches: [ "main", "dev" ]
    paths:
      - 'services/notification-service/**' # Trigger on service changes
      - 'common-events/**'         # Trigger on shared events changes
      - 'common-security/**'       # Trigger on shared security changes

  pull_request:
    branches: [ "main", "dev" ]
    paths:
      - 'services/notification-service/**'
      - 'common-events/**'
      - 'common-security/**'

jobs:
  call-template:
    uses: ./.github/workflows/service-ci.yaml
    with:
      service_name: 'notification-service'
      service_path: 'services/notification-service'
    secrets: inherit # Pass repo secrets automatically